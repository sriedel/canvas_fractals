<!DOCTYPE html>

<html>
  <head></head>
  <body>
    <canvas id="canvas" width="400" height="400"></canvas>

    <script src="complex.js"></script>
    <script src="julia.js"></script>
    <script src="julia_painter.js"></script>
    <script>
      var width = 400;
      var height = 400;

      var canvas = document.getElementById( 'canvas' );
      var context = canvas.getContext( "2d" );
      var imagedata = context.createImageData( width, height );
      for( var i = 0, len = imagedata.data.length; i < len ; ++i ) {
        imagedata.data[i] = 128;
      }
      context.putImageData( imagedata, 0, 0 );

      var julia = new Julia( width, height );
      julia.compute( 15, 
                     function( c ) {
                       return c.multiply( c ).add( -1.3 );
                     });

      var painter = new JuliaPainter( width, height );
      painter.buildImage( julia.resultArray, imagedata );
      context.putImageData( imagedata, 0, 0 );
    </script>
  </body>
</html>
