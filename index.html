<!DOCTYPE html>

<html>
  <head></head>
  <body>
    <canvas id="canvas" width="400" height="400"></canvas>

    <script src="complex.js"></script>
    <script src="julia_painter.js"></script>
    <script>
      var canvas = document.getElementById( 'canvas' );
      var context = canvas.getContext( "2d" );
      var imagedata = context.createImageData( 400, 400 );
      for( var i = 0, len = imagedata.data.length; i < len ; ++i ) {
        imagedata.data[i] = 128;
      }
      context.putImageData( imagedata, 0, 0 );

      var julia = new JuliaPainter( 400, 400 );
      var resultArray = [];
      julia.compute( 25, 
                     function( c ) {
                       return c.multiply( c ).add( new Complex( -1.3, 0 ) );
                     },
                     resultArray );
      julia.buildImage( resultArray, imagedata );
      context.putImageData( imagedata, 0, 0 );
    </script>
  </body>
</html>
